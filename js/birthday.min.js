!function(e){e.extend({ms_DatePicker:function(t){function a(){if(0==o.val()||0==c.val())0==o.val()&&(c.children().get(0).selected=!0),n.html(v);else{n.html(v);var e=parseInt(o.val()),t=parseInt(c.val()),a=0;switch(t){case 1:case 3:case 5:case 7:case 8:case 10:case 12:a=31;break;case 4:case 6:case 9:case 11:a=30;break;case 2:a=28,(e%4==0&&e%100!=0||e%400==0)&&(a=29)}for(var r=n.attr("rel"),l=1;l<=a;l++){var s=r==l?"selected":"",i='<option value="'+l+'" '+s+">"+l+"</option>";n.append(i)}}}var r={YearSelector:"#sel_year",MonthSelector:"#sel_month",DaySelector:"#sel_day",FirstText:"--",FirstValue:0},l=e.extend({},r,t),o=e(l.YearSelector),c=e(l.MonthSelector),n=e(l.DaySelector),s=l.FirstText,i=l.FirstValue,v='<option value="'+i+'">'+s+"</option>";o.html(v),c.html(v),n.html(v);for(var p=(new Date).getFullYear(),u=o.attr("rel"),h=p;h>=1900;h--){var d=u==h?"selected":"",f='<option value="'+h+'" '+d+">"+h+"</option>";o.append(f)}for(var m=c.attr("rel"),h=1;h<=12;h++){var d=m==h?"selected":"",S='<option value="'+h+'" '+d+">"+h+"</option>";c.append(S)}c.change(function(){a()}),o.change(function(){a()}),""!=n.attr("rel")&&a()}})}(jQuery);